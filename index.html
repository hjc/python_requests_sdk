<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Building REST API SDK's with Requests</title>

		<meta name="description" content="API SDK's USING REQUESTS">
		<meta name="author" content="Hayden Chudy">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>API SDK's USING REQUESTS</h2>
					<p>
						<small>Created by <a href="http://www.haydenchudy.com">Hayden Chudy</a> / <a href="http://twitter.com/hjc1710">@hjc1710</a></small>
					</p>
				</section>

				<section>
					<h2>About Me</h2>
					<p>
						<ul>
							<li>	
								Backend Engineer at Croscon.
							</li>
							<li>
								Originally from Southern Alabama, lived in NYC since March 2013.
							</li>
							<li>
								Build cool projects for interesting clients.
							</li>
						</ul>	
					</p>
					<aside class="notes">
						Remember, we're fucking hiring backend engineers. Engineers and Junior Engineers, Python and PHP.
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<h2>Some Quick Definitions</h2>
					<p>
						<ul>
							<li>
								API - Application Programming Interface
							</li>
							<li>
								SDK - Software Development Kit
							</li>
							<li>
								REST - Representational State Transfer
							</li>
						</ul>
					</p>
					<aside class="notes">
						API - a set of routines or protocols used to build or interact with a piece of software.
						<br>
						SDK - a set of tools that aid in the creation of applications for a certain platform, framework, or software package.
						<br>
						REST - an architecture pattern that is popular in the creation of scalable web services. Basically: no state, and a uniform interface for accessing resources.
					</aside>
				</section>

				<section>
					<h2>SDK Examples</h2>

					<ul>
						<li>
							Google's oauth2client - github.com/google/oauth2client
						</li>
						<li>
							Instagram's Python API SDK - github.com/Instagram/python-instagram
						</li>
						<li>
							Twitter's Python API SDK - github.com/bear/python-twitter
						</li>
						<li>
							Tumblr's Python API SDK - github.com/tumblr/pytumblr
						</li>
					</ul>

					<aside class="notes">
						Google has one for Python.
						<br>
						Instagram has one for Python.
						<br>
						Twitter has one for Python.
						<br>
						TUMBLR has one for Python....
						<br>
						But no Facebook SDK.
					</aside>
				</section>

				<section>
					<h2>Facebook's "Python SDK"</h2>
					<img src="img/facebook_sdks.png" height="575px;">

					<aside class="notes">
						So, one begins to look for a FB SDK and this is what they find.
						<br>
						Nada.
						<br>
						Sidenote, I love how they have a qt SDK, and an official Django SDK, but no official Python SDK. 
						<br>
						Small message on how we use Flask, so Django one won't work
					</aside>
				</section>

				<section>
					<h2>Facebook's "Python SDK"</h2>
					<p>
						Unofficial SDK's:

						<br>
						<br>
						<ul>
							<li>
								pythonforfacebook - github.com/pythonforfacebook/facebook-sdk
							</li>
							<li>
								fb - github.com/blaklites/fb
							</li>
						</ul>

						<aside class="notes">
							So, we stumble upon two unofficial SDK's for Facebook written in Python.
							<br>
							Upon closer examination, both have an identical API and have the same version of
							0.4.0, last updated about 2 years ago.
							<br>
							<br>
							It's likely these are forks of an unsuccessful original FB SDK. The only updates
							that have happened are documentation changes.
						</aside>
					</p>
				</section>

				<section>
					<h2>Solution?</h2>
					<p>
						We'll roll our own!
					</p>

					<aside class="notes">
						So, we'll just make our own with our own little API!
					</aside>
				</section>

				<section>
					<h2>Where to begin?</h2>

					<ul>
						<li>
							Read the API Reference.
						</li>
						<li>
							Pick an existing HTTP library to help you do your job.
						</li>
						<li>
							Software library architectural fun times.
						</li>
					</ul>

					<aside class="notes">
						We have a LOT to do here! Mostly in steps 1 and 3.
						<br>
						API references are quite complex and writing a module well is too, so points
						1 and 3 won't be covered (though, hopefully, I'll return to cover point 3 in
						the future). So let's handle number 2 and pick an HTTP library
						<br>
						So, from here, an individual could go one of two ways. 
						<br>
						The first way is to exclusively use built-in Python modules.
					</aside>
				</section>

				<section>
					<h2>Built-in Python HTTP Modules</h2>
					<p>
						<ul>
							<li>httplib</li>
							<li>urllib</li>
							<li>urllib2</li>
							<li>urlparse</li>
							<li>mimetools</li>
							<li>cgi</li>
							<li>email</li>
						</ul>
					</p>

					<aside class="notes">
						So, admittedly, this is a list for Python2.7, and things are better in 3, but 
						still, this is ridiculous. Their usage is non-obvious and they generally have
						to be used together. Heaven forbid you actually have to use httplib for some
						reason.
						<br>
						I've actually used all of these at one point or another to deal with HTTP and
						API interactions on a lower level.
						(I've used email to parse headers).
						<br>
						Also, there's totally a urllib3, and the difference between urllib and urllib2 
						are... annoying (example: urlencode is only in urllib).
					</aside>
				</section>

				<section>
					<h2>Built-in Python HTTP Modules</h2>
					<section>
						<p>
							What that looks like:
							<pre>
								<code data-trim contenteditable>
import urllib2
import urllib
u = urllib2.urlopen("http://www.google.com?" \
  + urllib.urlencode({"q": "nycpython"}))
raw_content = u.read()
								</code>
							</pre>
						</p>

						<aside class="notes">
							This is just for a simple GET, which isn't rough at all, but
							demonstrates my general point.
						</aside>
					</section>

					<section>
						<p>
							A delete:
							<pre>
								<code data-trim contenteditable>
handler = urllib2.HTTPHandler()
opener = urllib2.build_opener(handler)
request = urllib2.Request("https://graph.facebook.com/videos/4")
request.add_header("Content-Type", 'application/json')
request.get_method = lambda: "DELETE"  # because that's obvious
try:
    connection = opener.open(request)
except urllib2.HTTPError,e:
    connection = e  # a non-200 throws an Error
								</code>
							</pre>

							<aside class="notes">
								So yea... that escalated quickly and nothing in there is pretty.
								<br>
								There is an extra step added to handle 302's (urllib2 likes to drop the
								method you're using on redirect), but that's still pretty rough.
								<br>
								It's right about now that you're starting to seriously question your choice.
								And we haven't even talked SSL, or unicode
								So, the other option an individual could take is.... REQUESTS!!!
							</aside>
						</p>
					</section>
				</section>

				<section>
					<h2>Requests: HTTP for Humans</h2>
					<p>
						<img height="550px" src="img/requests_homepage.png">

						<aside class="notes">
							Requests pretty much lives up to its name and is a sane
							HTTP library, designed for easy human consumption.
							<br>
							And look at those testimonials!
						</aside>
					</p>
				</section>

				<section>
					<section>
						<h2>Using Requests</h2>
						<p>
							The same GET request from earlier:

							<pre>
								<code data-trim contenteditable>
import requests
u = requests.get("http://www.google.com", params={"q": "nycpython"})
raw_content = u.content
								</code>
							</pre>

							<aside class="notes">
								It's a little less verbose, but, more importantly, it's
								easier to remember and a LOT more sane.
							</aside>
						</p>
					</section>

					<section>
						<p>
							Now, a delete:
							<pre>
								<code data-trim contenteditable>
import requests
u = requests.delete("https://graph.facebook.com/videos/4")
json_response = u.json()
								</code>
							</pre>

							<aside class="notes">
								Ummm... yea. The benefits are pretty clear now.
								<br>
								So, we'll carry on with requests.
							</aside>
						</p>
					</section>
				</section>

				<section>
					<h2>Starting with the Facebook API</h2>
					<p>
						First, you need an app from: 
						<a href="https://developers.facebook.com/">
							https://developers.facebook.com/
						</a>

						<aside class="notes">
							So, now you'll need to create your own FB app and grab
							the app ID and the app secret, we'll use those a lot. Take note of
							the redirect URI you used as well.
							<br>
							Toss them in a secret_keys.py file and we're good to go!
						</aside>
					</p>
				</section>

				<section>
					<h2>The Server-Side OAuth2 Workflow</h2>
					<ol>
						<li>Generate Authorization URL based on scopes.</li>
						<li>Redirect user to Authorization URL.</li>
						<li>User accepts Facebook's prompt.</li>
						<li>
							User is redirected back to the redirect URL we gave Facebook 
							with a code in the query string.
						</li>
						<li>
							Server privately exchanges that code with Facebook for an
							access token
						</li>
					</ol>

					<aside class="notes">
						Now, a quick lesson on OAuth2. This is how the server side authorization
						workflow works for OAuth2 (across the board).
						<br>
						The basic concept is we redirect the user to and from a number of places,
						ensuring the referrer and given destination are fully approved by the
						app creator. Once the user gets back to us, we are given a non-descript
						code, which we will combine with our app secret to send to Facebook, in
						exchange for a real access token.
					</aside>
				</section>

				<section>
					<h2>Building the Authorization URL</h2>
					<p>
						This is incredibly trivial:
						<pre>
							<code data-trim contenteditable>
import urllib
auth_uri = "https://www.facebook.com/dialog/oauth?" + urllib.urlencode({
  "client_id": APP_ID,
  "redirect_uri": REDIRECT_URI,
  "scope": ','.join(("user_photos", "public_profile", "email", "publish_actions")) 
})
							</code> 
						</pre>
						<aside class="notes">
							We're going to cheat and use urllib here, but it's all quite simple.
							<br>
							Really, the most difficult thing here can be finding the scopes sometimes
							(Google loves to hide them), but the scopes listed here should let you publish
							videos and photos, fetch photos, and view profile information for a FB user.
						</aside>
					</p>
				</section>

				<section>
					<h2>Authorize It</h2>
					<p>
						I love Python:
						<pre>
							<code data-trim contenteditable>
from webbrowser import open as wopen
wopen(auth_uri)
							</code> 
						</pre>
						<aside class="notes">
							So yea, this should open your browser, take you to FB and display
							the super familiar OAuth prompt dialog. 
							<br>
							Upon return, you'll notice there's a code query string parameter 
							in the URL we were redirected to, grab that.
						</aside>
					</p>
				</section>

				<section>
					<section>
						
						<p>Slides can be nested inside of each other.</p>
						<p>Use the <em>Space</em> key to navigate through all slides.</p>
						<br>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section>
						<h2>Basement Level 1</h2>
						<p>Nested slides are useful for adding additional detail underneath a high level horizontal slide.</p>
					</section>
					<section>
						<h2>Basement Level 2</h2>
						<p>That's it, time to go back up.</p>
						<br>
						<a href="#/2">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="-webkit-transform: rotate(180deg);">
						</a>
					</section>
				</section>

				<section>
					<h2>Point of View</h2>
					<p>
						Press <strong>ESC</strong> to enter the slide overview.
					</p>
					<p>
						Hold down alt and click on any element to zoom in on it using <a href="http://lab.hakim.se/zoom-js">zoom.js</a>. Alt + click anywhere to zoom back out.
					</p>
				</section>

				<section>
					<h2>Touch Optimized</h2>
					<p>
						Presentations look great on touch devices, like mobile phones and tablets. Simply swipe through your slides.
					</p>
				</section>

				<section data-markdown>
					<script type="text/template">
						## Markdown support

						Write content using inline or external Markdown.
						Instructions and more info available in the [readme](https://github.com/hakimel/reveal.js#markdown).

						```
						<section data-markdown>
						  ## Markdown support

						  Write content using inline or external Markdown.
						  Instructions and more info available in the [readme](https://github.com/hakimel/reveal.js#markdown).
						</section>
						```
					</script>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragments</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<p><span class="fragment">... a</span> <span class="fragment">fragmented</span> <span class="fragment">slide.</span></p>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's different types of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-blue">highlight-blue</p>
					</section>
				</section>

				<section id="transitions">
					<h2>Transition Styles</h2>
					<p>
						You can select from different transitions, like: <br>
						<a href="?transition=none#/transitions">None</a> -
						<a href="?transition=fade#/transitions">Fade</a> -
						<a href="?transition=slide#/transitions">Slide</a> -
						<a href="?transition=convex#/transitions">Convex</a> -
						<a href="?transition=concave#/transitions">Concave</a> -
						<a href="?transition=zoom#/transitions">Zoom</a>
					</p>
				</section>

				<section id="themes">
					<h2>Themes</h2>
					<p>
						reveal.js comes with a few themes built in: <br>
						<!-- Hacks to swap themes after the page has loaded. Not flexible and only intended for the reveal.js demo deck. -->
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/black.css'); return false;">Black (default)</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/white.css'); return false;">White</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/league.css'); return false;">League</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/sky.css'); return false;">Sky</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/beige.css'); return false;">Beige</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/simple.css'); return false;">Simple</a> <br>
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/serif.css'); return false;">Serif</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/night.css'); return false;">Night</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/moon.css'); return false;">Moon</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/solarized.css'); return false;">Solarized</a>
					</p>
				</section>

				<section>
					<section data-background="#dddddd">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#dddddd"</code> on a slide to change the background color. All CSS color formats are supported.
						</p>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png">
						<h2>Image Backgrounds</h2>
						<pre><code>&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Tiled Backgrounds</h2>
						<pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
					<section data-background-video="https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.mp4,https://s3.amazonaws.com/static.slid.es/site/homepage/v1/homepage-video-editor.webm" data-background-color="#000000">
						<div style="background-color: rgba(0, 0, 0, 0.9); color: #fff; padding: 20px;">
							<h2>Video Backgrounds</h2>
							<pre><code style="word-wrap: break-word;">&lt;section data-background-video="video.mp4,video.webm"&gt;</code></pre>
						</div>
					</section>
				</section>

				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						Different background transitions are available via the backgroundTransition option. This one's called "zoom".
					</p>
					<pre><code>Reveal.configure({ backgroundTransition: 'zoom' })</code></pre>
				</section>

				<section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						You can override background transitions per-slide.
					</p>
					<pre><code style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Code syntax highlighting courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Marvelous List</h2>
					<ul>
						<li>No order here</li>
						<li>Or here</li>
						<li>Or here</li>
						<li>Or here</li>
					</ul>
				</section>

				<section>
					<h2>Fantastic Ordered List</h2>
					<ol>
						<li>One is smaller than...</li>
						<li>Two is smaller than...</li>
						<li>Three!</li>
					</ol>
				</section>

				<section>
					<h2>Tabular Tables</h2>
					<table>
						<thead>
							<tr>
								<th>Item</th>
								<th>Value</th>
								<th>Quantity</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Apples</td>
								<td>$1</td>
								<td>7</td>
							<tr>
							<tr>
								<td>Lemonade</td>
								<td>$2</td>
								<td>18</td>
							<tr>
							<tr>
								<td>Bread</td>
								<td>$3</td>
								<td>2</td>
							<tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<h2>Speaker View</h2>
					<p>There's a <a href="https://github.com/hakimel/reveal.js#speaker-notes">speaker view</a>. It includes a timer, preview of the upcoming slide as well as your speaker notes.</p>
					<p>Press the <em>S</em> key to try it out.</p>

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, here's an example:</p>
					<iframe src="//www.slideshare.net/slideshow/embed_code/42840540" width="445" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:3px solid #666; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the page background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>State Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press B or . on your keyboard to pause the presentation. This is helpful when you're on stage and want to take distracting slides off the screen.
					</p>
				</section>

				<section>
					<h2>Much more</h2>
					<ul>
						<li>Right-to-left support</li>
						<li><a href="https://github.com/hakimel/reveal.js#api">Extensive JavaScript API</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#auto-sliding">Auto-progression</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#parallax-background">Parallax backgrounds</a></li>
						<li><a href="https://github.com/hakimel/reveal.js#keyboard-bindings">Custom keyboard bindings</a></li>
					</ul>
				</section>

				<section style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- <a href="http://slides.com">Try the online editor</a> <br>
						- <a href="https://github.com/hakimel/reveal.js">Source code &amp; documentation</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
